<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.featherworld.project.profile.model.mapper.ProfileMapper">

	<select id="selectProfile" parameterType="int"
		resultType="Profile">
		SELECT * FROM PROFILE WHERE MEMBER_NO = #{memberNo}
	</select>

	<insert id="insertProfile" parameterType="Profile">
		INSERT INTO PROFILE (MEMBER_NO, IMG_PATH, IMG_ORIGINAL_NAME, IMG_RENAME,
		PROFILE_CONTENT)
		VALUES (#{memberNo}, #{imgPath}, #{imgOriginalName}, #{imgRename},
		#{profileContent})
	</insert>

	<update id="updateProfile" parameterType="Profile">
		UPDATE PROFILE
		SET IMG_PATH = #{imgPath},
		IMG_ORIGINAL_NAME = #{imgOriginalName},
		IMG_RENAME = #{imgRename},
		PROFILE_CONTENT = #{profileContent}
		WHERE MEMBER_NO = #{memberNo}
	</update>

		<!-- ðŸ” ë¹„ë°€ë²ˆí˜¸ í™•ì¸ -->
	<select id="selectEncodedPw" resultType="String">
	  SELECT MEMBER_PW FROM MEMBER
	  WHERE MEMBER_NO = #{memberNo}
	</select>

	<!-- âŒ íšŒì› íƒˆí‡´ ì²˜ë¦¬ (soft delete) -->
	<update id="deleteMember">
	  UPDATE MEMBER SET MEMBER_DEL_FL = 'Y' WHERE MEMBER_NO = #{memberNo}
	</update>




	<!-- ë˜ëŠ” soft delete ì˜ˆì‹œ -->
	<!-- <update id="deleteMember"> UPDATE MEMBER SET MEMBER_DEL_FL = 'Y' WHERE 
		MEMBER_NO = #{memberNo} </update> -->

	<!-- ì¹´ì¹´ì˜¤íšŒì› íƒˆí‡´ -->
	<update id="secessionKakaoMember" parameterType="int">
    UPDATE MEMBER SET 
      MEMBER_DEL_FL = 'Y',
      KAKAO_ACCESS_TOKEN = NULL 
    WHERE MEMBER_NO = #{memberNo}
</update>


</mapper>
